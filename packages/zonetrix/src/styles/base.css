/**
 * Base styles for Zonetrix components with Tailwind 4
 * Enhanced with modern seat selection interactions
 */

@import "tailwindcss";
@import "./variables.css";

.zonetrix {
  @apply block w-full h-full select-none;
  font-family: var(--ztx-font-family);
  font-size: var(--ztx-font-size);
  -webkit-user-select: none;
}

.zonetrix-svg {
  @apply block w-full h-full;
}

.zonetrix-cell {
  @apply cursor-pointer outline-none;
}

.zonetrix-cell-rect {
  fill: var(--ztx-seat-color-empty);
  stroke: var(--ztx-seat-border-empty);
  stroke-width: 2;
  transition: all var(--ztx-transition-duration) var(--ztx-transition-timing);
}

/* Hover state - Brighter, more inviting */
.zonetrix-cell:hover .zonetrix-cell-rect {
  fill: var(--ztx-seat-color-hover);
  stroke: var(--ztx-seat-border-hover);
  stroke-width: 2.5;
  filter: drop-shadow(0 4px 8px rgba(14, 165, 233, 0.25));
}

/* Selected state - Vibrant green with glow */
.zonetrix-cell.is-selected .zonetrix-cell-rect {
  fill: var(--ztx-seat-color-selected);
  filter: drop-shadow(0 4px 12px rgba(34, 197, 94, 0.4));
}

/* Selected hover state - Darker green */
.zonetrix-cell.is-selected:hover .zonetrix-cell-rect {
  stroke: var(--ztx-seat-border-selected);
}

/* Unavailable state - Muted and disabled */
.zonetrix-cell.is-unavailable .zonetrix-cell-rect {
  fill: var(--ztx-seat-color-unavailable);
  stroke: var(--ztx-seat-border-unavailable);
  stroke-width: 1.5;
  @apply cursor-not-allowed;
  filter: drop-shadow(0 1px 2px rgba(148, 163, 184, 0.1));
  opacity: 0.6;
}

.zonetrix-cell.is-unavailable {
  @apply cursor-not-allowed;
}

/* Unavailable no hover effect */
.zonetrix-cell.is-unavailable:hover .zonetrix-cell-rect {
  filter: drop-shadow(0 1px 2px rgba(148, 163, 184, 0.1));
}

/* Booked state - Red/orange tint, disabled */
.zonetrix-cell.is-booked .zonetrix-cell-rect {
  fill: var(--ztx-seat-color-booked);
  stroke: var(--ztx-seat-border-booked);
  stroke-width: 2;
  @apply cursor-not-allowed;
  filter: drop-shadow(0 2px 4px rgba(248, 113, 113, 0.2));
  opacity: 0.7;
}

.zonetrix-cell.is-booked {
  @apply cursor-not-allowed;
}

/* Booked no hover effect */
.zonetrix-cell.is-booked:hover .zonetrix-cell-rect {
  fill: var(--ztx-seat-color-booked);
  stroke: var(--ztx-seat-border-booked);
  filter: drop-shadow(0 2px 4px rgba(248, 113, 113, 0.2));
}

/* Held state (similar to unavailable but slightly different) */
.zonetrix-cell.is-held .zonetrix-cell-rect {
  fill: var(--ztx-seat-color-held);
  stroke: var(--ztx-seat-border-held);
  stroke-width: 2;
  @apply cursor-not-allowed;
  filter: drop-shadow(0 2px 4px rgba(251, 191, 36, 0.2));
  opacity: 0.7;
}

.zonetrix-cell.is-held {
  @apply cursor-not-allowed;
}

/* Sold state (similar to booked) */
.zonetrix-cell.is-sold .zonetrix-cell-rect {
  fill: var(--ztx-seat-color-sold);
  stroke: var(--ztx-seat-border-sold);
  stroke-width: 2;
  @apply cursor-not-allowed;
  filter: drop-shadow(0 2px 4px rgba(244, 63, 94, 0.2));
  opacity: 0.7;
}

.zonetrix-cell.is-sold {
  @apply cursor-not-allowed;
}

/* Labels */
.zonetrix-cell-label {
  fill: var(--ztx-seat-text-empty);
  font-size: var(--ztx-font-size);
  font-family: var(--ztx-font-family);
  @apply font-semibold;
  text-anchor: middle;
  dominant-baseline: middle;
  pointer-events: none;
  @apply opacity-80;
  transition: all var(--ztx-transition-duration) var(--ztx-transition-timing);
}

.zonetrix-cell:hover .zonetrix-cell-label {
  fill: var(--ztx-seat-text-hover);
  @apply opacity-100;
}

.zonetrix-cell.is-selected .zonetrix-cell-label {
  fill: var(--ztx-seat-text-selected);
  /* @apply opacity-100 font-bold; */
  text-shadow: 0 1px 2px rgba(21, 128, 61, 0.3);
}

.zonetrix-cell.is-selected:hover .zonetrix-cell-label {
  fill: var(--ztx-seat-text-selected);
  /* @apply opacity-100 font-bold; */
}

.zonetrix-cell.is-unavailable .zonetrix-cell-label {
  fill: var(--ztx-seat-text-unavailable);
  @apply opacity-50;
}

.zonetrix-cell.is-booked .zonetrix-cell-label {
  fill: var(--ztx-seat-text-booked);
  @apply opacity-70 font-semibold;
}

.zonetrix-cell.is-held .zonetrix-cell-label {
  fill: var(--ztx-seat-text-held);
  @apply opacity-70;
}

.zonetrix-cell.is-sold .zonetrix-cell-label {
  fill: var(--ztx-seat-text-sold);
  @apply opacity-70;
}

.zonetrix-layer-axis,
.zonetrix-layer-objects {
  pointer-events: none;
}

.zonetrix-axis-label {
  fill: var(--ztx-axis-label-color);
  font-size: calc(var(--ztx-font-size) * 1.2);
  @apply font-bold uppercase tracking-wider;
  letter-spacing: 0.05em;
  opacity: 0.75;
}

.zonetrix-object {
  pointer-events: none;
}

.zonetrix-object-rect {
  fill: var(--ztx-object-fill);
  stroke: var(--ztx-object-border);
  stroke-width: 2;
  filter: drop-shadow(0 8px 16px rgba(100, 116, 139, 0.25));
}

.zonetrix-object-label {
  fill: var(--ztx-object-text);
  font-size: calc(var(--ztx-font-size) * 1.4);
  @apply font-extrabold tracking-widest;
  text-anchor: middle;
  dominant-baseline: middle;
  letter-spacing: 0.1em;
  text-shadow: 0 2px 4px rgba(148, 163, 184, 0.4);
}

/* Legend - Enhanced styling */
.zonetrix-legend {
  @apply flex gap-6 items-center p-4 text-xs font-medium;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(148, 163, 184, 0.15);
}

.zonetrix-legend-item {
  @apply flex items-center gap-2;
}

.zonetrix-legend-color {
  @apply w-5 h-5 rounded;
  border-width: 2px;
  box-shadow: 0 2px 4px rgba(148, 163, 184, 0.2);
  transition: all 150ms ease-in-out;
}

.zonetrix-legend-item:hover .zonetrix-legend-color {
  transform: scale(1.1);
  box-shadow: 0 4px 8px rgba(148, 163, 184, 0.3);
}

.zonetrix-legend-color.available {
  background-color: var(--ztx-seat-color-empty);
  border-color: var(--ztx-seat-border-empty);
}

.zonetrix-legend-color.selected {
  background-color: var(--ztx-seat-color-selected);
  border-color: var(--ztx-seat-border-selected);
}

.zonetrix-legend-color.unavailable {
  background-color: var(--ztx-seat-color-unavailable);
  border-color: var(--ztx-seat-border-unavailable);
  opacity: 0.6;
}

.zonetrix-legend-color.booked {
  background-color: var(--ztx-seat-color-booked);
  border-color: var(--ztx-seat-border-booked);
  opacity: 0.7;
}

.zonetrix-legend-color.held {
  background-color: var(--ztx-seat-color-held);
  border-color: var(--ztx-seat-border-held);
  opacity: 0.7;
}

.zonetrix-legend-color.sold {
  background-color: var(--ztx-seat-color-sold);
  border-color: var(--ztx-seat-border-sold);
  opacity: 0.7;
}

/* RTL Support */
.zonetrix[dir="rtl"] {
  direction: rtl;
}

/* Zoom Controls */
.zonetrix-zoom-controls {
  @apply absolute top-4 right-4 z-10 flex flex-col gap-2 bg-white rounded-lg shadow-lg p-2;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.zonetrix-zoom-controls-group {
  @apply flex items-center gap-1;
}

.zonetrix-zoom-btn {
  @apply flex items-center justify-center w-8 h-8 rounded transition-all duration-150;
  @apply bg-white border border-gray-300 text-gray-700;
  @apply hover:bg-gray-50 hover:border-gray-400 hover:shadow-md;
  @apply active:bg-gray-100 active:scale-95;
  @apply disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:shadow-none;
  @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1;
}

.zonetrix-zoom-display {
  @apply px-2 text-xs font-semibold text-gray-700 min-w-12 text-center;
  @apply select-none;
}

/* Panning Cursor */
.zonetrix-svg.is-panning {
  cursor: grabbing !important;
}

.zonetrix-zoomable .zonetrix-svg {
  touch-action: none;
}

/* Smooth zoom transitions */
.zonetrix-svg {
  transition: none;
}

/* Prevent text selection during pan */
.zonetrix-zoomable {
  -webkit-user-select: none;
  user-select: none;
}
